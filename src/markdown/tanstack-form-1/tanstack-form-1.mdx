import Logo from "./assets/logo.png"
import Image from "next/image"
export const metadata = {
  title: "CrÃ©er des formulaires modernes et typesafe avec Tanstack Form ğŸ“",
  date: "2025-07-28",
  excerpt:
    "Votre tech lead va l'adorer.",
  publish: true,
};

### L'enfer du dÃ©veloppeur est pavÃ© de mauvais formulaires

**Les formulaires sont un cauchemar incontournable dans le dÃ©veloppement web et mobile** : validation synchrone et asynchrone, rÃ©cupÃ©ration et affichage des erreurs, contraintes multiples, accessibilitÃ©, sÃ©rialisation et dÃ©serialisation des valeurs, responsivitÃ©, sauvegarde de l'Ã©tat etc. 

Ã€ ces impondÃ©rables s'ajoutent les **diffÃ©rentes dÃ©cisions UX Ã  prendre** : faut-il rÃ©vÃ©ler les erreurs Ã  mesure que l'utilisateur tape afin d'Ãªtre le plus rÃ©actif possible mais au risque de l'agacer ou de le perturber s'il n'est pas allÃ© au bout de sa saisie ? Doit-on plutÃ´t attendre qu'il sorte du champ pour les lui signaler ? Ou attendre la soumission volontaire du formulaire quitte Ã  faire apparaÃ®tre Ã  l'Ã©cran une flopÃ©e d'erreurs avertissant l'utilisateur qu'il doit tout reprendre depuis le dÃ©but au moment oÃ¹ il pensait en avoir fini ? ğŸ”«

D'autant plus que pour s'Ã©pargner la crÃ©ation *ex nihilo* de certains composants complexes tels qu'un sÃ©lecteur de date ou un menu filtrant, **on aura tÃ´t fait de s'en remettre Ã  des librairies UI externes de composants** pour garnir nos formulaires dont on devra ensuite **assurer la bonne connexion avec notre logique de validation et de gestion des erreurs**.

Bref, dÃ¨s lors qu'on veut adresser toute la complexitÃ© inhÃ©rente aux formulaires on se retrouve vite embourbÃ© dans **des implÃ©mentations verbeuses et peu maintenables en raison de leur forte spÃ©cificitÃ©** : chaque dÃ©veloppeur crÃ©e son petit systÃ¨me de gestion de formulaires adaptÃ© au contexte de son site ou de son application. 

Quelles qualitÃ©s devrait alors prÃ©senter une librairie de formulaire digne de ce nom ?

- ğŸ‘‰ **StandardisÃ©e** : API facilement rÃ©utilisable
- ğŸ‘‰ **Flexible et robuste** : couvrir tous les cas d'usage sans trop perdre en lisibilitÃ© et performance
- ğŸ‘‰ **Abordable** : avec un coÃ»t d'apprentissage le plus faible possible

La bonne nouvelle ? Je pense l'avoir trouvÃ©e ğŸ˜ !

### *The new kid in town*

Si jusqu'Ã  prÃ©sent ce terrain Ã©tait dominÃ© par **[React Hook Form](https://react-hook-form.com/)** et **[Formik](https://formik.org/)**, une nouvelle librairie venue de la galaxie TanStack vient de se faire une place avec des promesses allÃ©chantes : **[TanStack Form](https://tanstack.com/form/latest/docs/overview)**.

<a href="https://tanstack.com/form/latest/docs/overview" target="_blank">
<Image src={Logo} className="my-12 mx-auto w-[80%]" alt="Logo de TanStack Form" />
</a>


Compatible avec React, Vue, Solid â€” et bien d'autres frameworks et technologies front â€”, **[TanStack Form](https://tanstack.com/form/latest/docs/overview)** permet **typer l'intÃ©gralitÃ© du formulaire** pour en sÃ©curiser et accÃ©lÃ©rer le dÃ©veloppement. Ã€ l'Ã©chelle de plus grosses applications, il offre la possiblitÃ© particuliÃ¨rement intÃ©ressante **de "composer" ses formulaires Ã  l'aide d'options et de composants rÃ©utilisables** ce qui permet de **crÃ©er notre propre fabrique de formulaires** adossÃ©e Ã  la librairie pour une personnalisation encore plus fine sans obscurcir l'API d'origine.

### CrÃ©er un formulaire de login avec TanStack Form

Assez traÃ®nÃ©, passons aux travaux pratiques ğŸ§‘â€ğŸ¨ !

Dans une application React, on peut initialiser un formulaire de connexion avec **[TanStack Form](https://tanstack.com/form/latest/docs/overview)** de la faÃ§on suivante :

```tsx
import { useForm } from "@tanstack/react-form"

const form = useForm({ ... })
```

Ce hook `useForm` va prendre plusieurs options avec pour commencer, **les valeurs par dÃ©faut des champs du formulaire**.

```tsx {4-7}
import { useForm } from "@tanstack/react-form"

const form = useForm({ 
  defaultValues: {
    username: "",
    password: "",
  },
 })
```

Tout aussi indispensable, **une fonction** `onSubmit` appelÃ©e Ã  chaque tentative de validation.

```tsx {8-10}
import { useForm } from "@tanstack/react-form"

const form = useForm({ 
  defaultValues: {
    username: "",
    password: "",
  },
  onSubmit: async (values) => {
    console.log(values)
  },
 })
```

Cet objet `form` renvoyÃ©e par le hook `useForm` va ensuite pouvoir Ãªtre **consommÃ© par notre composant front** pour bÃ¢tir le formulaire puisqu'il contient Ã  la fois des **composants parents qui vont venir envelopper nos inputs pour nous aider Ã  les contrÃ´ler avec toute la puissance de TanStack Form** tout en exposant en temps rÃ©el les **diffÃ©rents Ã©tats du formulaire et de ses champs** (est-il valide ? quelles sont les erreurs ? a-t-il dÃ©jÃ  Ã©tÃ© touchÃ© ? etc.).

On utilise alors le composant `form.Field` dont l'attribut `name` correspondra Ã  l'un des champs dÃ©clarÃ©s dans les valeurs par dÃ©faut du `useForm` et la bonne vieille technique des `renderProps` pour **fournir Ã  notre input sous-jacent les diffÃ©rents Ã©tats du champ en temps rÃ©el condensÃ©s dans un objet** `field`.

```tsx {16-26}
import { useForm } from "@tanstack/react-form"

const form = useForm({ 
  defaultValues: {
    username: "",
    password: "",
  },
  onSubmit: async (values) => {
    console.log(values)
  },
 })

const LoginForm = () => {
  return (
    <form>
      <form.Field 
        name="username" 
        children={({field}) => 
          <input 
            id={field.id} 
            type="text"
            name={field.name} 
            value={field.state.value}
          />
        }
      />
      <form.Field 
        name="password" 
        children={({field}) => 
          <input 
            id={field.id} 
            type="password"
            name={field.name} 
            value={field.state.value}
          />
        }
      />
      <button type="submit">Login</button>
    </form>
  )
}
```

<div className="useful-links">
  #### Liens additionnels - ğŸ”— 
  - [Documentation officielle de TanStack Form](https://tanstack.com/form/latest/docs/overview)
  - [LogRocket â€” TanStack Form vs. React Hook Form](https://blog.logrocket.com/tanstack-form-vs-react-hook-form)
</div>
